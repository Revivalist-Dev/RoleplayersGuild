@page "{id:int}"
@model RoleplayersGuild.Site.Directory.User_Panel.My_Characters.CustomProfileModel
@{
    ViewData["Title"] = "Customize Profile";
    Layout = "_Layout2Col";
}

@section cphRightCol {
    @if (!string.IsNullOrEmpty(TempData["Message"] as string))
    {
        <div class="alert alert-success">@TempData["Message"]</div>
    }
    @if (!ViewData.ModelState.IsValid)
    {
        <div class="alert alert-danger" asp-validation-summary="ModelOnly"></div>
    }

    <h1>Custom Profile</h1>
    <div class="d-flex justify-content-between align-items-center mb-3">
        <a class="btn btn-secondary" asp-page="/User-Panel/My-Characters/Edit" asp-route-id="@Model.Input.CharacterId">Back To Character</a>
        <div>
            <button type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#infoModal">What is this?</button>
            <button type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#placeholderModal">Available Placeholders</button>
        </div>
    </div>

    <form method="post">
        <input type="hidden" asp-for="Input.CharacterId" />
        <div class="form-check form-switch mb-3">
            <input class="form-check-input" type="checkbox" asp-for="Input.IsEnabled" />
            <label class="form-check-label" asp-for="Input.IsEnabled">Enable my custom profile</label>
        </div>

        <div class="mb-3">
            <label asp-for="Input.ProfileCSS" class="form-label">Profile CSS</label>
            <textarea asp-for="Input.ProfileCSS" class="form-control" rows="12" placeholder=".Greeting { display: none; }"></textarea>
        </div>

        <div class="mb-3">
            <label asp-for="Input.ProfileHTML" class="form-label">Profile HTML</label>
            <textarea asp-for="Input.ProfileHTML" class="form-control" rows="12" placeholder="<p class='Greeting'>Hello, World.</p>"></textarea>
        </div>

        <div class="d-flex justify-content-between align-items-center">
            <a class="btn btn-secondary" target="_blank" asp-page="/Community/Characters/View" asp-route-id="@Model.Input.CharacterId">View Profile</a>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
    </form>

    <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="infoModalLabel">What is this?</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Using this screen, you can create your own custom CSS and HTML for your profile. You can either program it from scratch or use some existing code. Please keep in mind, however, that you do NOT need the <strong>&lt;style&gt;</strong> tags for the CSS text box, as it is already aware of what you are using it for.</p>
                    <p>By checking "Enable my custom profile" and saving, you will replace your current, auto-generated profile with your brand new customized profile.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="placeholderModal" tabindex="-1" aria-labelledby="placeholderModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="placeholderModalLabel">Available Placeholders</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p><strong>Character-Related:</strong></p>
                    <ul>
                        <li>[CHARA-FIRSTNAME]</li>
                        <li>[CHARA-MIDDLENAME]</li>
                        <li>[CHARA-LASTNAME]</li>
                        <li>[CHARA-FULLNAME]</li>
                        <li>[CHARA-DISPLAYIMAGE]</li>
                        <li>[CHARA-GENDER]</li>
                        <li>[CHARA-SEXUALITY]</li>
                    </ul>
                    <p><strong>Link-Related:</strong></p>
                    <ul>
                        <li>[LINK-HOME]</li>
                        <li>[LINK-SENDMESSAGE]</li>
                        <li>[LINK-VIEWGALLERY]</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
}