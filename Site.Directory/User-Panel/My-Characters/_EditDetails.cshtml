@model RoleplayersGuild.Site.Directory.User_Panel.My_Characters.EditMyCharactersModel

<form method="post" enctype="multipart/form-data" asp-page-handler="Main">
    <div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>
    <input type="hidden" asp-for="Input.CharacterId" />

    <h5>Basic Info</h5>
    <hr class="mt-2" />
    <div class="row">
        <div class="col-lg-8">
            <div class="mb-3">
                <label asp-for="Input.CharacterDisplayName" class="form-label"></label>
                <input asp-for="Input.CharacterDisplayName" class="form-control" />
                <span asp-validation-for="Input.CharacterDisplayName" class="text-danger small"></span>
            </div>
            <div class="mb-3">
                <label asp-for="Input.CharacterFirstName" class="form-label">Full Name</label>
                <div class="input-group">
                    <input asp-for="Input.CharacterFirstName" class="form-control" placeholder="First" />
                    <input asp-for="Input.CharacterMiddleName" class="form-control" placeholder="Middle" />
                    <input asp-for="Input.CharacterLastName" class="form-control" placeholder="Last" />
                </div>
                <span asp-validation-for="Input.CharacterFirstName" class="text-danger small"></span>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="mb-3">
                <label asp-for="Input.CharacterGender" class="form-label">Gender</label>
                <select asp-for="Input.CharacterGender" asp-items="Model.Genders" class="form-select"><option value="">- Select -</option></select>
                <span asp-validation-for="Input.CharacterGender" class="text-danger small"></span>
            </div>
            <div class="mb-3">
                <label asp-for="Input.SexualOrientation" class="form-label">Sexual Orientation</label>
                <select asp-for="Input.SexualOrientation" asp-items="Model.SexualOrientations" class="form-select"><option value="">- Select -</option></select>
            </div>
        </div>
    </div>

    <h5 class="mt-4">Images</h5>
    <hr class="mt-2" />
    <div class="row">
        <div class="col-md-6">
            <div class="mb-3">
                <label asp-for="Input.AvatarImage" class="form-label">Avatar Image</label>
                @if (Model.CurrentAvatarUrl is not null)
                {
                    <img src="@Model.CurrentAvatarUrl" class="img-thumbnail mb-2 d-block" style="width: 100px; height: 100px;" alt="Current Avatar" />
                }
                <input asp-for="Input.AvatarImage" type="file" class="form-control" accept="image/png, image/jpeg, image/gif" />
            </div>
        </div>
        <div class="col-md-6">
            <div class="mb-3">
                <label asp-for="Input.CardImage" class="form-label">Card Image</label>
                @if (Model.CurrentCardImageUrl is not null)
                {
                    <img src="@Model.CurrentCardImageUrl" class="img-thumbnail mb-2 d-block" style="width: 150px; height: 225px; object-fit: cover;" alt="Current Card Image" />
                }
                <input asp-for="Input.CardImage" type="file" class="form-control" accept="image/png, image/jpeg, image/gif" />
            </div>
        </div>
    </div>

    <h5 class="mt-4">Roleplay Preferences</h5>
    <hr class="mt-2" />
    <div class="row">
        <div class="col-lg-8">
            <label class="form-label">Genres</label>
            <div class="border rounded p-2" style="max-height: 200px; overflow-y: auto;">
                <div class="row">
                    @for (var i = 0; i < Model.Genres.Count; i++)
                    {
                        <div class="col-md-4 col-sm-6">
                            <div class="form-check">
                                <input type="hidden" asp-for="@Model.Genres[i].GenreId" />
                                <input type="hidden" asp-for="@Model.Genres[i].GenreName" />
                                <input type="checkbox" asp-for="@Model.Genres[i].IsSelected" class="form-check-input" />
                                <label class="form-check-label" asp-for="@Model.Genres[i].IsSelected">@Model.Genres[i].GenreName</label>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="mb-3">
                <label asp-for="Input.LfrpStatus" class="form-label">Contact Preference</label>
                <select asp-for="Input.LfrpStatus" asp-items="Model.LfrpStatuses" class="form-select"><option value="">- Select -</option></select>
            </div>
            <div class="mb-3">
                <label asp-for="Input.EroticaPreferences" class="form-label">Erotica Preference</label>
                <select asp-for="Input.EroticaPreferences" asp-items="Model.EroticaPreferences" class="form-select"><option value="">- Select -</option></select>
            </div>
        </div>
    </div>

    <h5 class="mt-4">Settings</h5>
    <hr class="mt-2" />
    <div class="row">
        <div class="col-md-4">
            <div class="form-check form-switch mb-2">
                <input asp-for="Input.MatureContent" class="form-check-input" role="switch" />
                <label asp-for="Input.MatureContent" class="form-check-label">Contains Mature Content</label>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-check form-switch mb-2">
                <input asp-for="Input.IsPrivate" class="form-check-input" role="switch" />
                <label asp-for="Input.IsPrivate" class="form-check-label">Private Profile</label>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-check form-switch mb-2">
                <input asp-for="Input.DisableLinkify" class="form-check-input" role="switch" />
                <label asp-for="Input.DisableLinkify" class="form-check-label">Disable Linkify</label>
            </div>
        </div>
    </div>
    <div class="card-footer d-flex justify-content-between mt-4 bg-transparent px-0">
        <div>
            @if (!Model.IsNewCharacter)
            {
                <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">Delete Character</button>
            }
        </div>
        <button type="submit" class="btn btn-primary">Save Details</button>
    </div>
</form>