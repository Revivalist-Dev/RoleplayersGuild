// _default.scss
// Defines the base structure of themed components and sets default (light theme) CSS variables.
@use "sass:color";

// :root is used so these variables are globally available.
:root {
    // --- Default (Light Theme) Variable Definitions ---
    // Page-level colors
    --rpg-page-bg-color: #aecee1;
    --rpg-page-bg-image: linear-gradient(to bottom, #aecee1 0%, #57aee0 100%);
    --rpg-text-color: #212529;
    --rpg-link-color: #337ab7;
    --rpg-link-hover-color: #{color.adjust(#337ab7, $lightness: -10%)};
    // Component background colors
    --rpg-box-bg: #dbe7f0;
    --rpg-box-bg-darker: #{color.adjust(#dbe7f0, $lightness: -2%)};
    --rpg-box-header-bg: #{color.adjust(#dbe7f0, $lightness: -4%)};
    --rpg-box-border-color: #{color.adjust(#dbe7f0, $lightness: -15%)};
    // UserNav specific colors
    --rpg-usernav-panel-bg: #fff;
    --rpg-usernav-controls-bg: #337ab7;
    --rpg-usernav-controls-color: #fff;
    --rpg-usernav-drag-handle-color: rgba(255, 255, 255, 0.7);
    --rpg-usernav-footer-border: #{color.adjust(#337ab7, $lightness: -10%)};
    // Character Card specific colors
    --rpg-charcard-header-bg: #fff;
    --rpg-charcard-controls-bg: #337ab7;
}

// --- Structural (Non-Color) Component Styles ---

html {
    background-color: var(--rpg-page-bg-color) !important;
    background-image: var(--rpg-page-bg-image) !important;
}

body {
    color: var(--rpg-text-color);
    // Set Bootstrap variables to use our new theme variables
    --bs-body-color: var(--rpg-text-color);
    --bs-link-color: var(--rpg-link-color);
    --bs-link-hover-color: var(--rpg-link-hover-color);
    --bs-card-bg: var(--rpg-box-bg);
    --bs-tertiary-bg: var(--rpg-box-bg);
    --bs-list-group-bg: var(--rpg-box-bg);
    --bs-accordion-bg: var(--rpg-box-bg);
    --bs-border-color: var(--rpg-box-border-color);
    --bs-card-border-color: var(--rpg-box-border-color);
    --bs-card-cap-bg: var(--rpg-box-header-bg);
    --bs-list-group-border-color: var(--rpg-box-border-color);
}

// --- Component Structures ---

.user-nav-flyout {
    .user-nav-panel {
        background-color: var(--rpg-usernav-panel-bg);
    }

    .user-nav-controls {
        background-color: var(--rpg-usernav-controls-bg);
        color: var(--rpg-usernav-controls-color);

        .user-nav-settings,
        .user-nav-toggle {
            color: inherit; // Inherits from .user-nav-controls
        }

        .user-nav-drag-handle {
            color: var(--rpg-usernav-drag-handle-color);
        }
    }

    .user-nav-footer {
        background-color: var(--rpg-usernav-controls-bg); // Same as controls
        border-top: 1px solid var(--rpg-usernav-footer-border);

        .user-nav-settings {
            color: var(--rpg-usernav-controls-color);

            &:hover {
                opacity: 0.75;
            }
        }
    }
}

blockquote.blockquote {
    background-color: var(--rpg-box-bg-darker);
    border-color: var(--rpg-box-border-color);
}

.character-card {
    .card-header, .card-footer {
        background-color: var(--rpg-charcard-header-bg);
        border-color: var(--bs-card-border-color);
    }
}

.character-card-controls {
    background-color: var(--rpg-charcard-controls-bg);
}

.controls-box {
    background-color: var(--rpg-usernav-panel-bg); // Use the same white as nav panel
}

.view-toggle-btn {
    background-color: var(--bs-tertiary-bg);
    color: var(--bs-body-color);

    &.active {
        background-color: var(--bs-primary);
        color: #fff;
    }
}

.list-group-item-action {
    color: var(--bs-body-color);
}
